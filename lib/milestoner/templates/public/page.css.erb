:root {
  --font-family: Verdana;
}

/* Rouge (https://rouge.jneen.net) */
.rouge.highlight {
  --color-berry: hsl(240, 18%, 40%);
  --color-blue: hsl(223, 100%, 74%);
  --color-cold: hsl(189, 100%, 93%);
  --color-dark: hsl(191, 12%, 27%);
  --color-eclipse: hsl(0, 3%, 21%);
  --color-enoki: hsl(60, 30%, 95%);
  --color-goblin: hsl(84, 82%, 49%);
  --color-green: hsl(140, 67%, 66%);
  --color-grey: hsl(0, 0%, 65%);
  --color-ice: hsl(184, 74%, 83%);
  --color-ink: hsl(210, 4%, 11%);
  --color-khaki: hsl(35, 26%, 75%);
  --color-lime: hsl(82, 100%, 58%);
  --color-purple: hsl(259, 60%, 79.4%);
  --color-red: hsl(0, 100%, 73%);
  --color-sea: hsl(190, 100%, 60%);
  --color-sky: hsl(203, 93%, 74%);
  --color-teal: hsl(189, 23%, 53%);
  --color-white: hsl(0, 0%, 100%);
  --color-yellow: hsl(49, 100%, 59%);

  table {
    td {
      padding: 5px;
    }

    pre {
      margin: 0;
    }
  }

  .c, .ch, .cd, .cpf {
    color: var(--color-grey);
    font-style: italic;
  }

  .cm {
    color: var(--color-berry);
    font-style: italic;
  }

  .c1 {
    color: var(--color-grey);
    font-style: italic;
  }

  .cp {
    color: var(--color-teal);
    font-weight: bold;
  }

  .cs {
    color: var(--color-dark);
    font-weight: bold;
    font-style: italic;
  }

  .err {
    color: var(--color-enoki);
    background-color: var(--color-eclipse);
  }

  .gi {
    color: var(--color-lime);
  }

  .gd {
    color: var(--color-blue);
  }

  .ge {
    color: var(--color-ink);
    font-style: italic;
  }

  .gr {
    color: var(--color-blue);
  }

  .gt {
    color: var(--color-blue);
  }

  .gh {
    color: var(--color-eclipse);
  }

  .go {
    color: var(--color-eclipse);
  }

  .gp {
    color: var(--color-sea);
  }

  .gs {
    font-weight: bold;
  }

  .gu {
    color: var(--color-dark);
  }

  .k, .kv {
    color: var(--color-sky);
    font-weight: bold;
  }

  .kc {
    color: var(--color-sea);
    font-weight: bold;
  }

  .kd {
    color: var(--color-sea);
    font-weight: bold;
  }

  .kp {
    color: var(--color-ice);
    font-weight: bold;
  }

  .kr {
    color: var(--color-sea);
    font-weight: bold;
  }

  .kt {
    color: var(--color-sea);
    font-weight: bold;
  }

  .kn {
    color: var(--color-blue);
    font-weight: bold;
  }

  .ow {
    color: var(--color-blue);
    font-weight: bold;
  }

  .o {
    color: var(--color-blue);
    font-weight: bold;
  }

  .mf {
    color: var(--color-ice);
  }

  .mh {
    color: var(--color-purple);
  }

  .il {
    color: var(--color-purple);
  }

  .mi {
    color: var(--color-ice);
  }

  .mo {
    color: var(--color-purple);
  }

  .m, .mb, .mx {
    color: var(--color-purple);
  }

  .se {
    color: var(--color-purple);
  }

  .sb {
    color: var(--color-khaki);
  }

  .sc {
    color: var(--color-khaki);
  }

  .sd {
    color: var(--color-khaki);
  }

  .s2 {
    color: var(--color-khaki);
  }

  .sh {
    color: var(--color-khaki);
  }

  .si {
    color: var(--color-purple);
  }

  .sx {
    color: var(--color-green);
  }

  .sr {
    color: var(--color-ice);
  }

  .s1 {
    color: var(--color-khaki);
  }

  .ss {
    color: var(--color-green);
  }

  .s, .sa, .dl {
    color: var(--color-khaki);
  }

  .n {
    color: var(--color-white);
  }

  .na {
    color: var(--color-lime);
  }

  .nc {
    color: var(--color-lime);
    font-weight: bold;
  }

  .nd {
    color: var(--color-lime);
    font-weight: bold;
  }

  .ne {
    color: var(--color-lime);
    font-weight: bold;
  }

  .nf, .fm {
    color: var(--color-goblin);
    font-weight: bold;
  }

  .no {
    color: var(--color-sea);
  }

  .bp {
    color: var(--color-enoki);
  }

  .nb {
    color: var(--color-cold);
  }

  .ni {
    color: var(--color-enoki);
  }

  .nn {
    color: var(--color-lime);
  }

  .vc {
    color: var(--color-red);
  }

  .vg {
    color: var(--color-enoki);
  }

  .vi {
    color: var(--color-yellow);
  }

  .nv, .vm {
    color: var(--color-enoki);
  }

  .w {
    color: var(--color-enoki);
  }

  .nl {
    color: var(--color-enoki);
    font-weight: bold;
  }

  .nt {
    color: var(--color-cold);
  }

  color: var(--color-enoki);
}

.milestone {
  --border-width: 0.15rem;
  --color-black: hsl(0, 0%, 0%);
  --color-butter: hsl(52, 100%, 83%);
  --color-carbon: hsl(219, 6%, 58%);
  --color-cheese: hsl(51, 100%, 93%);
  --color-cloud: hsl(219, 100%, 93%);
  --color-ghost: hsl(171.4, 17.1%, 92%);
  --color-green: hsl(121, 73%, 35%);
  --color-grey: hsl(240, 7%, 97%);
  --color-ice: hsl(216, 100%, 98%);
  --color-major: hsl(7, 79%, 32%);
  --color-minor: hsl(221, 79%, 32%);
  --color-night: hsl(216, 9%, 21%);
  --color-orange: hsl(24.8, 100%, 50.2%);
  --color-patch: hsl(156, 79%, 32%);
  --color-powder: hsl(0, 0%, 98%);
  --color-red: hsl(0, 84.1%, 44.5%);
  --color-silver: hsl(224, 33%, 94%);
  --color-slate: hsl(211, 23%, 41%);
  --color-smoke: hsl(229, 31%, 93%);
  --color-white: hsl(0, 0%, 100%);
  --shadow-color: 0deg 0% 0%;

  display: flex;
  flex-direction: column;
  font-family: var(--font-family);
  margin: 0 12vw;

  blockquote {
    background-color: var(--color-silver);
    border-left: 0.5rem solid var(--color-slate);
    border-radius: 0.5rem;
    padding: 0.5rem 1rem;

    p {
      margin: 0;
      quotes: "\201C""\201D";

      &::before, &::after {
        font-family: cursive;
        font-size: 1.5rem;
      }

      &::before {
        content: open-quote;
        padding-right: 0.3rem;
      }

      &::after {
        content: close-quote;
        padding-left: 0.1rem;
      }
    }
  }

  :not(pre) > code {
    background-color: var(--color-night);
    border-radius: 0.3rem;
    color: var(--color-white);
    font-size: 0.95rem;
    padding: 0.1rem 0.3rem;
  }

  pre:not([class^=language]) {
    background-color: var(--color-night);
    color: var(--color-ghost);
    line-height: 1.5rem;
    padding: 0.5rem 1rem;
    font-size: 0.9rem;
    white-space: pre-wrap;
  }

  pre {
    border-radius: 0.5rem;
    font-weight: 400;
    padding: 0.5rem;
  }

  img, video {
    max-width: 100%;
    height: auto;
    object-fit: cover;
  }

  .normal {
    border-bottom-color: var(--color-ghost);
    border-color: transparent;
    border-style: solid;
    border-width: var(--border-width);
  }

  .alert {
    border: var(--border-width) solid var(--color-orange);
  }

  .error {
    border: var(--border-width) solid var(--color-red);
  }

  .avatar {
    border-radius: 50%;
    height: fit-content;
  }

  .pill {
    border-radius: 0.5rem;
    padding: 0.2rem 0.4rem;
  }

  .popover {
    border-radius: 0.5rem;
    padding: 1rem;
    max-width: calc(100vw - 20%);

    &::backdrop {
      backdrop-filter: brightness(60%);
    }

    .label {
      font-size: 1.5rem;
      text-align: center;
      margin: 0 0 1rem 0;
    }

    .sublabel {
      font-size: 1rem;
      margin: 0 0 1rem 0;
    }
  }

  .button {
    background-size: 200% auto;
    border-radius: 0.5rem;
    border: 0.5rem soild var(--color-black);
    box-shadow:
      0.7px 0.7px 1.5px hsl(var(--shadow-color) / 0),
      1.3px 1.3px 2.8px hsl(var(--shadow-color) / 0.07),
      2.6px 2.7px 5.6px hsl(var(--shadow-color) / 0.14);
    cursor: pointer;
    font-size: 0.9rem;
    margin: 0;
    padding: 0.2rem 0.5rem;
    transition: 0.1s;

    &:hover {
      box-shadow:
        0.7px 0.7px 1.5px hsl(var(--shadow-color) / 0),
        1.3px 1.3px 2.8px hsl(var(--shadow-color) / 0.07);
      transform: scale(0.95);
    }
  }

  .secure {
    background-color: var(--color-green);
    color: var(--color-white);

    .signature::before {
      content: "\1F512";
      margin-right: 0.5rem;
    }
  }

  .insecure {
    background-color: var(--color-red);
    color: var(--color-white);

    .signature::before {
      content: "\1F513";
      margin-right: 0.5rem;
    }
  }

  .header {
    align-items: center;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    margin: 1rem 0 2rem 0;

    .title {
      align-items: center;
      display: flex;
      gap: 0.5rem;
      margin: 0;
    }

    .date {
      font-size: 1.4rem;
      font-weight: 600;
      margin: 0;
    }
  }

  .overview {
    align-items: center;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    margin-bottom: 0.5rem;
  }

  .owner {
    display: flex;
    gap: 0.5rem;
  }

  .actions {
    display: flex;
    gap: 0.5rem;
  }

  .toggle {
    background-color: var(--color-white);
    border: 0.15rem solid var(--color-smoke);
    color: var(--color-black);
    width: 5rem;
  }

  .columns {
    background-color: var(--color-black);
    border-top-left-radius: 0.5rem;
    border-top-right-radius: 0.5rem;
    color: var(--color-white);
    display: grid;
    grid-template: 1fr / 4.7fr 1fr 1fr 1fr 1fr 1fr;
    padding: 0.3rem 0;

    .label {
      font-weight: 600;
      text-align: center;
    }
  }

  .row {
    .label {
      font-weight: 600;
    }
  }

  .row[open] > .summary::before {
    content: "\25BC";
    width: 0.5rem;
  }

  .summary {
    align-items: center;
    display: grid;
    gap: 0 1rem;
    grid-template: 1fr / auto 5fr 1fr 1fr 1fr 1fr 1fr;
    padding: 0.15rem 0;
    margin: 0.25rem 0 0 0;

    &::-webkit-details-marker {
      display:none;
    }

    &::before {
      content: "\25B6";
      cursor: pointer;
      width: 0.5rem;
    }

    &:hover {
      background-color: var(--color-powder);
    }

    .title {
      align-items: center;
      display: flex;
      gap: 0 0.5rem;
    }

    .subject {
      word-break: break-word;
    }

    .author,
    .files,
    .lines,
    .issue,
    .review {
      text-align: center;
    }

    .avatar {
      vertical-align: middle;
    }

    .lines {
      .deletions {
        color: var(--color-green);
      }

      .insertions {
        color: var(--color-red);
      }
    }
  }

  .details {
    display: grid;
    gap: 1rem;
    grid-template: auto auto auto / auto 1fr;
    grid-template-areas:
      "tag message"
      "tag notes"
      "tag info";

    @media (width >= 1000px) {
      grid-template: 1fr auto / auto 2fr 1fr;
      grid-template-areas:
        "tag message info"
        "tag notes info";
    }

    .tag {
      align-self: stretch;
      grid-area: tag;
      padding: 0.5rem 0.2rem 0.5rem 0.1rem;
      text-align: center;
      text-transform: capitalize;
      writing-mode: vertical-lr;
      padding: 0 0.2rem;
    }

    .major {
      background-color: var(--color-major);
      color: var(--color-white);
    }

    .minor {
      background-color: var(--color-minor);
      color: var(--color-white);
    }

    .patch {
      background-color: var(--color-patch);
      color: var(--color-white);
    }

    .rebase {
      background-color: var(--color-orange);
      color: var(--color-white);
    }

    .invalid {
      background-color: var(--color-red);
      color: var(--color-white);
    }

    .unknown {
      background-color: var(--color-carbon);
      color: var(--color-white);
    }

    .bar {
      border-radius: 0.5rem 0.5rem 0 0;
      color: var(--color-black);
      font-size: 1rem;
      font-weight: 600;
      padding: 0 0 0 0.5rem;
      margin: 0;
    }

    .panel {
      display: flex;
      flex-direction: column;
      padding: 0 0.5rem 0.5rem 0.5rem;
    }

    .message {
      background-color: var(--color-grey);
      border-radius: 0.5rem;
      grid-area: message;
      margin-top: 1rem;

      .bar {
        background-color: var(--color-smoke);
      }

      .content {
        margin: 0 0.5rem;
        word-break: break-word;
      }
    }

    .notes {
      background-color: var(--color-cheese);
      border-radius: 0.5rem;
      grid-area: notes;
      margin-bottom: 1rem;

      .bar {
        background-color: var(--color-butter);
      }

      .content {
        margin: 0 0.5rem;
      }
    }

    .info {
      grid-area: info;
      background-color: var(--color-ice);
      border-radius: 0.5rem;
      margin: 1rem 0;

      .bar {
        background-color: var(--color-cloud);
      }

      .label {
        font-size: 0.9rem;
      }

      .line {
        align-self: start;
        display: flex;
        gap: 0.5rem;
        margin: 0;
        word-break: break-word;
      }

      .at {
        flex-wrap: wrap;

        .weekday {
          &:before {
            content: "(";
          }

          &:after {
            content: ")";
          }
        }
      }
    }
  }

  .dormant {
    align-items: center;
    display: flex;
    justify-content: center;
    flex-direction: column;

    &::before {
      content: "\1F303";
      font-size: 10rem;
    }
  }

  .totals {
    display: flex;
    gap: 0 0.5rem;
    font-weight: 600;
    justify-content: center;

    .files {
      color: var(--color-slate);
    }

    .deletions {
      color: var(--color-green);
    }

    .insertions {
      color: var(--color-red);
    }
  }
}

.footer {
  .generator {
    display: flex;
    font-family: var(--font-family);
    font-style: italic;
    justify-content: center;
    margin-top: 1rem;
  }

  .link {
    padding-left: 0.3rem;
  }
}
